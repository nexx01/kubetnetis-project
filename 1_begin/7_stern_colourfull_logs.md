 Ð¢Ñ‹ Ð²Ñ‹Ð±Ñ€Ð°Ð» **Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½ÑƒÑŽ Ð²ÐµÑ€ÑÐ¸ÑŽ** `stern` Ð´Ð»Ñ Linux:

```
https://github.com/stern/stern/releases/download/v1.32.0/stern_1.32.0_linux_amd64.tar.gz
```

Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð´Ð°Ð²Ð°Ð¹Ñ‚Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ð¼ ÐµÑ‘ Ð¿Ð¾ ÑˆÐ°Ð³Ð°Ð¼.

---

## âœ… Ð¨Ð°Ð³ 1: Ð¡ÐºÐ°Ñ‡Ð°Ð¹ Ð°Ñ€Ñ…Ð¸Ð²

```bash
wget https://github.com/stern/stern/releases/download/v1.32.0/stern_1.32.0_linux_amd64.tar.gz
```

> âš ï¸ Ð£Ð±ÐµÐ´Ð¸ÑÑŒ, Ñ‡Ñ‚Ð¾ Ñƒ Ñ‚ÐµÐ±Ñ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½ `wget`. Ð•ÑÐ»Ð¸ Ð½ÐµÑ‚ â€” Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ `curl`:
>
> ```bash
> curl -L -o stern_1.32.0_linux_amd64.tar.gz \
>   https://github.com/stern/stern/releases/download/v1.32.0/stern_1.32.0_linux_amd64.tar.gz
> ```

---

## âœ… Ð¨Ð°Ð³ 2: Ð Ð°ÑÐ¿Ð°ÐºÑƒÐ¹ Ð°Ñ€Ñ…Ð¸Ð²

```bash
tar -xzf stern_1.32.0_linux_amd64.tar.gz
```

ÐŸÐ¾ÑÐ»Ðµ ÑÑ‚Ð¾Ð³Ð¾ Ð¿Ð¾ÑÐ²Ð¸Ñ‚ÑÑ Ñ„Ð°Ð¹Ð» `stern` (Ð±ÐµÐ· Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ñ) â€” ÑÑ‚Ð¾ Ð¸ÑÐ¿Ð¾Ð»Ð½ÑÐµÐ¼Ñ‹Ð¹ Ð±Ð¸Ð½Ð°Ñ€Ð½Ð¸Ðº.

ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ:

```bash
ls -l stern
```

Ð”Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ñ‡Ñ‚Ð¾-Ñ‚Ð¾ Ð²Ñ€Ð¾Ð´Ðµ:

```
-rwxr-xr-x 1 user user 45M ... stern
```

---

## âœ… Ð¨Ð°Ð³ 3: Ð¡Ð´ÐµÐ»Ð°Ð¹ Ð¸ÑÐ¿Ð¾Ð»Ð½ÑÐµÐ¼Ñ‹Ð¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¼ÐµÑÑ‚Ð¸ Ð² PATH

```bash
chmod +x stern
sudo mv stern /usr/local/bin/
```

Ð¢ÐµÐ¿ÐµÑ€ÑŒ `stern` Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð³Ð»Ð¾Ð±Ð°Ð»ÑŒÐ½Ð¾.

---

## âœ… Ð¨Ð°Ð³ 4: ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÑƒ

```bash
stern --version
```

ÐžÐ¶Ð¸Ð´Ð°ÐµÐ¼Ñ‹Ð¹ Ð²Ñ‹Ð²Ð¾Ð´:

```
stern version v1.32.0
```

âœ… Ð£ÑÐ¿ÐµÑˆÐ½Ð¾!

---

## ðŸš€ ÐšÐ°Ðº Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ `stern`

Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ñ‚Ñ‹ Ð¼Ð¾Ð¶ÐµÑˆÑŒ ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð»Ð¾Ð³Ð¸ Ð²ÑÐµÑ… Ð¿Ð¾Ð´Ð¾Ð² Ñ Ð»ÐµÐ¹Ð±Ð»Ð¾Ð¼ `app=nginx`:

```bash
stern -l app=nginx
```

Ð˜Ð»Ð¸ Ð¿Ð¾ Ð¸Ð¼ÐµÐ½Ð¸ (Ñ‡Ð°ÑÑ‚Ð¸):

```bash
stern nginx
```

Ð¡ Ð¾Ð¿Ñ†Ð¸ÑÐ¼Ð¸:

```bash
stern -l app=nginx --tail 50 --timestamps --color=always
```

---

## ðŸ§¹ ÐžÐ¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾: ÑƒÐ´Ð°Ð»Ð¸ Ð°Ñ€Ñ…Ð¸Ð² (ÐµÑÐ»Ð¸ Ð½Ðµ Ð½ÑƒÐ¶ÐµÐ½)

```bash
rm stern_1.32.0_linux_amd64.tar.gz
```

---

## ðŸŽ Ð‘Ð¾Ð½ÑƒÑ: Ð°Ð»Ð¸Ð°Ñ Ð´Ð»Ñ Ð±Ñ‹ÑÑ‚Ñ€Ð¾Ð³Ð¾ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°

Ð”Ð¾Ð±Ð°Ð²ÑŒ Ð² `~/.bashrc`:

```bash
echo "alias sklog='stern -l app=nginx --tail 50 --timestamps'" >> ~/.bashrc
source ~/.bashrc
```

Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð¾:

```bash
sklog
```

---

## âœ… Ð“Ð¾Ñ‚Ð¾Ð²Ð¾!

ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾! ðŸŽ‰ Ð’Ð¾Ñ‚ Ñ‚Ð²Ð¾Ñ **ÑˆÐ¿Ð°Ñ€Ð³Ð°Ð»ÐºÐ° Ð¿Ð¾ `stern`** â€” ÑƒÐ´Ð¾Ð±Ð½Ñ‹Ð¹ cheat sheet Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ Ð»Ð¾Ð³Ð°Ð¼Ð¸ Ð² Kubernetes. Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸ ÐµÑ‘ â€” Ð¿Ñ€Ð¸Ð³Ð¾Ð´Ð¸Ñ‚ÑÑ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ!

---

# ðŸ“œ `stern` â€” Ð¨Ð¿Ð°Ñ€Ð³Ð°Ð»ÐºÐ° (Cheat Sheet)

> `stern` â€” Ð¼Ð¾Ñ‰Ð½Ñ‹Ð¹ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚ Ð´Ð»Ñ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð° Ð»Ð¾Ð³Ð¾Ð² Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ñ… Ð¿Ð¾Ð´Ð¾Ð² Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ñ Ñ†Ð²ÐµÑ‚Ð°Ð¼Ð¸, Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ð¼Ð¸ Ð¸ Ð¿Ñ€ÐµÑ„Ð¸ÐºÑÐ°Ð¼Ð¸.

---

## ðŸ”§ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° (Linux)

```bash
wget https://github.com/stern/stern/releases/download/v1.32.0/stern_1.32.0_linux_amd64.tar.gz
tar -xzf stern_1.32.0_linux_amd64.tar.gz
chmod +x stern
sudo mv stern /usr/local/bin/stern
```

ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ°:
```bash
stern --version
```

---

## ðŸš€ ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹

| ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ |
|--------|--------|
| `stern nginx` | Ð›Ð¾Ð³Ð¸ Ð²ÑÐµÑ… Ð¿Ð¾Ð´Ð¾Ð² Ñ `nginx` Ð² Ð¸Ð¼ÐµÐ½Ð¸ |
| `stern -l app=nginx` | Ð›Ð¾Ð³Ð¸ Ð¿Ð¾ Ð»ÐµÐ¹Ð±Ð»Ñƒ `app=nginx` |
| `stern -l app=backend -c app` | Ð¢Ð¾Ð»ÑŒÐºÐ¾ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ `app` Ð² Ð¿Ð¾Ð´Ð°Ñ… Ñ `app=backend` |
| `stern --tail 50 app` | ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ 50 ÑÑ‚Ñ€Ð¾Ðº |
| `stern app --timestamps` | ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°Ñ‚ÑŒ Ð²Ñ€ÐµÐ¼Ñ Ð² Ð»Ð¾Ð³Ð°Ñ… |
| `stern app -f` | Ð¡Ð»ÐµÐ´Ð¸Ñ‚ÑŒ Ð·Ð° Ð»Ð¾Ð³Ð°Ð¼Ð¸ (Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾) |
| `stern app -n production` | Ð˜ÑÐºÐ°Ñ‚ÑŒ Ð² Ð½ÐµÐ¹Ð¼ÑÐ¿ÐµÐ¹ÑÐµ `production` |

---

## ðŸ” Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ñ

| ÐŸÑ€Ð¸Ð¼ÐµÑ€ | Ð§Ñ‚Ð¾ Ð´ÐµÐ»Ð°ÐµÑ‚ |
|-------|-----------|
| `stern nginx "error\|fail"` | Ð¢Ð¾Ð»ÑŒÐºÐ¾ ÑÑ‚Ñ€Ð¾ÐºÐ¸ Ñ `error` Ð¸Ð»Ð¸ `fail` |
| `stern nginx --exclude "200"` | Ð˜ÑÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ ÑÑ‚Ñ€Ð¾ÐºÐ¸ Ñ `200` |
| `stern nginx --include "GET /api"` | Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ðº `/api` |
| `stern nginx --since 5m` | ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸ Ð·Ð° Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ 5 Ð¼Ð¸Ð½ÑƒÑ‚ |
| `stern nginx --context minikube` | Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‘Ð½Ð½Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚ Kubernetes |

---

## ðŸŽ¨ Ð¦Ð²ÐµÑ‚Ð° Ð¸ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ

| ÐžÐ¿Ñ†Ð¸Ñ | Ð­Ñ„Ñ„ÐµÐºÑ‚ |
|------|-------|
| `--color=always` | Ð’ÑÐµÐ³Ð´Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ñ†Ð²ÐµÑ‚Ð° |
| `--no-color` | ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ñ†Ð²ÐµÑ‚Ð° |
| `--template "{.PodName} | { .Message }"` | ÐšÐ°ÑÑ‚Ð¾Ð¼Ð½Ñ‹Ð¹ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ Ð²Ñ‹Ð²Ð¾Ð´Ð° |
| `--all-namespaces` | Ð˜ÑÐºÐ°Ñ‚ÑŒ Ð²Ð¾ Ð²ÑÐµÑ… Ð½ÐµÐ¹Ð¼ÑÐ¿ÐµÐ¹ÑÐ°Ñ… |

---

## ðŸ· ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ

### 1. Ð›Ð¾Ð³Ð¸ Ð²ÑÐµÑ… Ð¿Ð¾Ð´Ð¾Ð² Ñ `api` Ð² Ð¸Ð¼ÐµÐ½Ð¸ + Ð²Ñ€ÐµÐ¼Ñ
```bash
stern api --timestamps --tail 30
```

### 2. Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð¾ÑˆÐ¸Ð±ÐºÐ¸ Ð² Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ðµ
```bash
stern -l app=backend -n production "error\|ERROR\|50[0-9]"
```

### 3. Ð›Ð¾Ð³Ð¸ Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð´ÐµÐ¿Ð»Ð¾Ð¹Ð¼ÐµÐ½Ñ‚Ð°
```bash
stern -l app=myapp --timestamps
```

### 4. Ð›Ð¾Ð³Ð¸, Ð¸ÑÐºÐ»ÑŽÑ‡Ð°Ñ Ð·Ð´Ð¾Ñ€Ð¾Ð²Ñ‹Ðµ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸
```bash
stern -l app=web --exclude "GET /health"
```

---

## ðŸ§° ÐŸÐ¾Ð»ÐµÐ·Ð½Ñ‹Ðµ Ð°Ð»Ð¸Ð°ÑÑ‹ (Ð´Ð¾Ð±Ð°Ð²ÑŒ Ð² `~/.bashrc`)

```bash
# ÐžÐ±Ñ‹Ñ‡Ð½Ñ‹Ð¹ Ð·Ð°Ð¿ÑƒÑÐº
alias sklog='stern -l app=nginx --tail 50 --timestamps'

# Ð”Ð»Ñ Ð±ÑÐºÐµÐ½Ð´Ð°
alias apilog='stern -l app=backend --timestamps'

# Ð’ÑÐµ Ð»Ð¾Ð³Ð¸ Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ°Ð¼Ð¸
alias errlog='stern . "error\|fail\|panic" --tail 100'
```

ÐŸÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ·Ð¸:
```bash
source ~/.bashrc
```

Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¼Ð¾Ð¶Ð½Ð¾:
```bash
sklog
apilog
errlog
```

---

## ðŸ’¡ Ð¡Ð¾Ð²ÐµÑ‚Ñ‹

- `stern` Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ñ€Ð°ÑÐºÑ€Ð°ÑˆÐ¸Ð²Ð°ÐµÑ‚ Ñ€Ð°Ð·Ð½Ñ‹Ðµ Ð¿Ð¾Ð´Ñ‹ â€” Ð»ÐµÐ³ÐºÐ¾ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð¸Ñ‚ÑŒ.
- Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ `--tail N`, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð½Ðµ Ð¶Ð´Ð°Ñ‚ÑŒ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð²ÑÐµÑ… Ð»Ð¾Ð³Ð¾Ð².
- ÐšÐ¾Ð¼Ð±Ð¸Ð½Ð¸Ñ€ÑƒÐ¹ Ñ `grep`, ÐµÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾: `stern app | grep "POST"`

---

## ðŸš« Ð Ð°ÑÐ¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½Ñ‘Ð½Ð½Ñ‹Ðµ Ð¾ÑˆÐ¸Ð±ÐºÐ¸

| ÐžÑˆÐ¸Ð±ÐºÐ° | Ð ÐµÑˆÐµÐ½Ð¸Ðµ |
|-------|--------|
| `command not found` | Ð£Ð±ÐµÐ´Ð¸ÑÑŒ, Ñ‡Ñ‚Ð¾ `stern` Ð² `/usr/local/bin/` |
| `HTML not found` | Ð¡ÐºÐ°Ñ‡Ð°Ð» Ð½Ðµ Ð±Ð¸Ð½Ð°Ñ€Ð½Ð¸Ðº, Ð° HTML â€” Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ URL |
| ÐÐµÑ‚ Ð»Ð¾Ð³Ð¾Ð² | ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ Ð»ÐµÐ¹Ð±Ð»Ñ‹: `kubectl get pods --show-labels` |

---

âœ… Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸ ÑÑ‚Ñƒ ÑˆÐ¿Ð°Ñ€Ð³Ð°Ð»ÐºÑƒ Ð² Ñ„Ð°Ð¹Ð»:

```bash
cat > stern-cheatsheet.md << 'EOF'
# ðŸ“œ stern â€” Ð¨Ð¿Ð°Ñ€Ð³Ð°Ð»ÐºÐ°

... (Ð²ÑÑ‚Ð°Ð²ÑŒ ÑÑŽÐ´Ð° Ñ‚ÐµÐºÑÑ‚ Ð²Ñ‹ÑˆÐµ) ...
EOF
```

ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾! Ð’Ð¾Ñ‚ **Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÑÐºÑ€Ð¸Ð¿Ñ‚ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ `stern`** Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¾Ð¹ ÐžÐ¡, ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¾Ð¹ Ð±Ð¸Ð½Ð°Ñ€Ð½Ð¸ÐºÐ°, Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸ÐµÐ¼ Ð°Ð»Ð¸Ð°ÑÐ¾Ð² Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¾Ð¹ Ð²ÐµÑ€ÑÐ¸Ð¸.

ÐŸÑ€Ð¾ÑÑ‚Ð¾ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸ ÐµÐ³Ð¾ Ð² Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð»Ðµ â€” Ð¸ `stern` Ð±ÑƒÐ´ÐµÑ‚ Ð³Ð¾Ñ‚Ð¾Ð² Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ðµ! ðŸš€

---

## âœ… Ð¡ÐºÑ€Ð¸Ð¿Ñ‚: `install-stern.sh`

```bash
#!/bin/bash

# install-stern.sh â€” ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° stern Ð´Ð»Ñ Linux Ð¸ macOS

set -e  # ÐžÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð¿Ñ€Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÐ°Ñ…

echo "ðŸ” ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÐ¼ ÐžÐ¡ Ð¸ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ñƒ..."

OS=$(uname -s | tr '[:upper:]' '[:lower:]')
ARCH=$(uname -m)

if [[ "$ARCH" == "x86_64" ]]; then
    ARCH="amd64"
elif [[ "$ARCH" == "aarch64" || "$ARCH" == "arm64" ]]; then
    ARCH="arm64"
else
    echo "âŒ ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° $ARCH Ð½Ðµ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ÑÑ"
    exit 1
fi

echo "ðŸ“¦ ÐžÐ¡: $OS, ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°: $ARCH"

# ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÐ¼ URL
VERSION="v1.32.0"
if [[ "$OS" == "linux" ]]; then
    URL="https://github.com/stern/stern/releases/download/$VERSION/stern_linux_$ARCH"
elif [[ "$OS" == "darwin" ]]; then
    URL="https://github.com/stern/stern/releases/download/$VERSION/stern_darwin_$ARCH"
else
    echo "âŒ ÐžÐ¡ $OS Ð½Ðµ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ÑÑ"
    exit 1
fi

# Ð’Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ð¹ Ñ„Ð°Ð¹Ð»
BINARY="stern"

echo "â¬‡ï¸ Ð¡ÐºÐ°Ñ‡Ð¸Ð²Ð°ÐµÐ¼ stern ($VERSION)..."
curl -L -o "$BINARY" "$URL"

# Ð”ÐµÐ»Ð°ÐµÐ¼ Ð¸ÑÐ¿Ð¾Ð»Ð½ÑÐµÐ¼Ñ‹Ð¼
chmod +x "$BINARY"

# ÐŸÐµÑ€ÐµÐ¼ÐµÑ‰Ð°ÐµÐ¼ Ð² /usr/local/bin
echo "ðŸšš Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Ð² /usr/local/bin/stern..."
sudo mv "$BINARY" /usr/local/bin/stern

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼
echo "âœ… ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÑƒ..."
stern --version

# Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð°Ð»Ð¸Ð°ÑÑ‹ Ð² .bashrc (ÐµÑÐ»Ð¸ Ð½ÐµÑ‚ â€” Ð² .profile)
BASHRC="$HOME/.bashrc"
if [[ ! -f "$BASHRC" ]]; then
    BASHRC="$HOME/.profile"
fi

echo "ðŸ”§ Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð°Ð»Ð¸Ð°ÑÑ‹ Ð² $BASHRC..."

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼, Ð½ÐµÑ‚ Ð»Ð¸ ÑƒÐ¶Ðµ Ð°Ð»Ð¸Ð°ÑÐ¾Ð²
if ! grep -q "alias sklog" "$BASHRC" 2>/dev/null; then
    cat >> "$BASHRC" << 'EOF'

# === stern aliases ===
# Ð›Ð¾Ð³Ð¸ nginx
alias sklog='stern -l app=nginx --tail 50 --timestamps --color=always'

# Ð›Ð¾Ð³Ð¸ backend
alias apilog='stern -l app=backend --tail 50 --timestamps'

# ÐžÑˆÐ¸Ð±ÐºÐ¸
alias errlog='stern . "error\|fail\|panic\|50[0-9]" --tail 100 --timestamps'

# Ð£Ð½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð¿Ð¾ Ð¸Ð¼ÐµÐ½Ð¸
alias klog='stern'

echo "ðŸ’¡ Ð“Ð¾Ñ‚Ð¾Ð²Ð¾! Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ Ð°Ð»Ð¸Ð°ÑÑ‹:"
echo "   sklog     â€” Ð»Ð¾Ð³Ð¸ app=nginx"
echo "   apilog    â€” Ð»Ð¾Ð³Ð¸ app=backend"
echo "   errlog    â€” Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¾ÑˆÐ¸Ð±ÐºÐ¸"
echo "   klog name â€” Ð»Ð¾Ð³Ð¸ Ð¿Ð¾ Ð¸Ð¼ÐµÐ½Ð¸ Ð¿Ð¾Ð´Ð°"
echo ""
echo "âš ï¸ ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸ Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð» Ð¸Ð»Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ:"
echo "   source ~/.bashrc"
EOF
    echo "âœ… ÐÐ»Ð¸Ð°ÑÑ‹ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹ Ð² $BASHRC"
else
    echo "â„¹ï¸ ÐÐ»Ð¸Ð°ÑÑ‹ ÑƒÐ¶Ðµ ÐµÑÑ‚ÑŒ â€” Ð¿Ñ€Ð¾Ð¿ÑƒÑÐºÐ°ÐµÐ¼."
fi

echo "ðŸŽ‰ stern ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½ Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½!"
echo "ðŸ“Œ Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸: source ~/.bashrc"
echo "ðŸ“Œ ÐŸÑ€Ð¸Ð¼ÐµÑ€: sklog"
```

---

## â–¶ï¸ ÐšÐ°Ðº Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ?

### 1. Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸ ÑÐºÑ€Ð¸Ð¿Ñ‚

```bash
wget -O install-stern.sh https://gist.githubusercontent.com/.../raw/install-stern.sh
```

Ð˜Ð»Ð¸ ÑÐ¾Ð·Ð´Ð°Ð¹ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ:

```bash
nano install-stern.sh
```

Ð’ÑÑ‚Ð°Ð²ÑŒ ÐºÐ¾Ð´ Ð²Ñ‹ÑˆÐµ â†’ `Ctrl+O`, `Enter`, `Ctrl+X`.

### 2. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸

```bash
chmod +x install-stern.sh
./install-stern.sh
```

### 3. ÐŸÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ·Ð¸ Ð¾Ð±Ð¾Ð»Ð¾Ñ‡ÐºÑƒ

```bash
source ~/.bashrc
```

### 4. ÐŸÐ¾Ð»ÑŒÐ·ÑƒÐ¹ÑÑ!

```bash
sklog      # Ð»Ð¾Ð³Ð¸ nginx
errlog     # Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¾ÑˆÐ¸Ð±ÐºÐ¸
klog app   # Ð»Ð¾Ð³Ð¸ Ð²ÑÐµÑ… Ð¿Ð¾Ð´Ð¾Ð² Ñ "app"
```

---

## ðŸ›¡ Ð§Ñ‚Ð¾ Ð´ÐµÐ»Ð°ÐµÑ‚ ÑÐºÑ€Ð¸Ð¿Ñ‚?

- âœ… ÐÐ²Ñ‚Ð¾Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÑ‚ ÐžÐ¡ Ð¸ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ñƒ
- âœ… Ð¡ÐºÐ°Ñ‡Ð¸Ð²Ð°ÐµÑ‚ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½ÑƒÑŽ Ð²ÐµÑ€ÑÐ¸ÑŽ `stern`
- âœ… Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÑ‚ Ð² `/usr/local/bin`
- âœ… Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÑ‚ ÑƒÐ´Ð¾Ð±Ð½Ñ‹Ðµ Ð°Ð»Ð¸Ð°ÑÑ‹
- âœ… ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÑ‚ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÑƒ

---

## ðŸ“Ž ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð²Ñ‹Ð²Ð¾Ð´Ð° Ð¿Ð¾ÑÐ»Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸

```
ðŸŽ‰ stern ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½ Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½!
ðŸ“Œ Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸: source ~/.bashrc
ðŸ“Œ ÐŸÑ€Ð¸Ð¼ÐµÑ€: sklog
```


